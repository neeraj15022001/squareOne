<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Menu</title>
    <link rel="stylesheet" href="./menu.css" />
    <script
      src="https://kit.fontawesome.com/dabf4ff9a0.js"
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <nav class="customNavbar">
      <a
        href="./index.html"
        referrerpolicy="no-referrer"
        rel="next"
        type="text/html"
        class="brand brand-logo"
        >Square <span>One</span></a
      >
    </nav>
    <div class="heading">
      <p class="main-headline">Food Menu</p>
      <p class="description">
        Freshly made food from our kitchens with wide variety of food items
      </p>
    </div>

    <div class="menu-container">
      <h1 class="category-heading"><span>Indian</span> Food</h1>
      <div id="items-container" class="items-container"></div>
      <h1 class="category-heading"><span>Drinks</span></h1>
      <div id="drinks-container" class="items-container"></div>
    </div>

    <script>
      fetch("./menuBreakfastIndianBreads.json")
        .then((response) => response.json())
        .then((data) => {
          getAndInsertData(data, "items-container", "item-image item-position");
        });
      
      fetch("./drinks.json")
      .then(response => response.json())
      .then(data => getAndInsertData(data, "drinks-container", "item-image drink-position"))

      function getAndInsertData(data , id, imageClass) {
        const itemNames = Object.keys(data);
        console.log(itemNames);
        itemNames.forEach((itemName) => {
          const itemData = data[itemName];
          const price = itemData.price;
          const portion = itemData.portion;
          const image = itemData.imagePath;
          const type = itemData.type;
          const typeColor = itemData.colors;
          const style = itemData.style;

          let element = `
        <div class="food-item-card" data-name="${itemName}">
        <img
          src="${image}"
          alt="${itemName}"
          class="${imageClass}"
        />
        <p class="item-name">${itemName}</p>
        <hr class="divider" />
        <div class="food-description">
          <div class="price">
            <p class="food-description-heading">Price</p>
            <p>${price}</p>
          </div>
          <div class="portion">
            <p class="food-description-heading">Portion</p>
            <p>${portion} person</p>
          </div>
        </div>
        <div class="food-type-container">
          <div class="food-type">
            <p class="food-description-heading">Food Type</p>
            <p>
              <i
                class="fa fa-dot-circle"
                style="color: ${typeColor}"
                aria-hidden="true"
              ></i>
              ${type}
            </p>
          </div>

          <div class="food-style">
            <p class="food-description-heading">Food Style</p>
            <p>
              ${style}
            </p>
          </div>
        </div>
        <div class="add-to-cart-button">
          <button>Add To Cart</button>
        </div>
      </div>
        `;
          let container = document.getElementById(id);
          container.innerHTML += element;
        });
      }
    </script>
  </body>
</html>
